(()=>{"use strict";const e="rua-proto-v1";function t(t){return"object"!=typeof t?new TypeError(`Wrong envelope type (expected: object, actual: ${typeof t})`):(t=t).hasOwnProperty("sign")&&t.sign===e?t.hasOwnProperty("data")&&"object"==typeof t.data?void 0:new SyntaxError(`Wrong or missing envelope "data" property type (expected: object, actual: ${typeof t.data})`):new Error("Wrong or missing envelope signature")}class n{send(...n){return new Promise(((o,r)=>{const a={sign:e,data:{}},c=[];n.forEach((e=>{const t=Math.random().toString(36).substring(3).toString();a.data[t]=e,c.push(t)})),chrome.runtime.sendMessage(a,(e=>{const a=chrome.runtime.lastError,s=t(e);if(a)return r(new Error(a.message));if(void 0!==s)return r(s);let i=Array(n.length);for(const[t,n]of Object.entries(e.data)){if(!c.includes(t))return r(new Error(`Unexpected response ID ${t} in the responses stack`));i[c.indexOf(t)]=n}if(i=i.filter((e=>"object"==typeof e)),i.length!==n.length)return r(new Error(`Unexpected responses count (expected: ${n.length}, actual: ${i.length})`));o(i)}))}))}}const o="applicable-to-uri";const r="get-settings";const a="get-useragent";const c="lzQSPaqnhkGVecb";new Promise(((e,t)=>{const s=document.cookie.split(";");for(let t=0;t<s.length;t++){const n=s[t].trimLeft();if(n.startsWith(c+"=")){const t=n.split("=");if(t.length>=2)return document.cookie=`${c}=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/`,e((i=t[1],JSON.parse(decodeURIComponent(escape(window.atob(i.replace(/-/g,"=")))))))}}var i,d;(new n).send((d=window.location.href,{method:o,payload:{uri:d}}),{method:r,payload:{}},{method:a,payload:{}}).then((t=>{const n=t[0].payload.applicable,o=t[1].payload,r=t[2].payload.info;if(n&&o.jsProtection.enabled&&void 0!==r)return e({uaInfo:r})})).catch(t)})).then((e=>"("+function(e){const t=t=>{const n=(e,t,n)=>{"object"==typeof e&&void 0===Object.getOwnPropertyDescriptor(e,t)&&Object.defineProperty(e,t,{get:()=>n})};if("object"==typeof t){n(t,"userAgent",e.uaInfo.useragent),n(t,"appVersion",e.uaInfo.useragent.replace(/^Mozilla\//i,""));const o="platform",r="oscpu",a="vendor";switch(e.uaInfo.osType){case"windows":n(t,o,"Win32"),n(t,r,"Windows NT; Win64; x64");break;case"linux":n(t,o,"Linux x86_64"),n(t,r,"Linux x86_64");break;case"android":n(t,o,"Linux armv8l"),n(t,r,"Linux armv8l");break;case"macOS":n(t,o,"MacIntel"),n(t,r,"Mac OS X");break;case"iOS":n(t,o,"iPhone"),n(t,r,"Mac OS X");break;default:n(t,r,void 0)}switch(e.uaInfo.engine){case"blink":n(t,a,"Google Inc.");break;case"gecko":n(t,a,"");break;case"webkit":n(t,a,"Apple Computer Inc.")}}};t(window.navigator),window.addEventListener("load",(()=>{const e=document.getElementsByTagName("iframe");for(let n=0;n<e.length;n++){const o=e[n].contentWindow;"object"==typeof o&&null!==o&&t(o.navigator)}}),{once:!0,passive:!0}),new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{if("IFRAME"===e.nodeName){const n=e.contentWindow;"object"==typeof n&&null!==n&&t(n.navigator)}}))}))})).observe(document,{childList:!0,subtree:!0})}+`)(${JSON.stringify(e)})`)).then((e=>{const t=document.createElement("script"),n=document.head||document.documentElement;t.textContent=e,n.appendChild(t),setTimeout((()=>{n.removeChild(t)}))})).catch(console.warn)})();